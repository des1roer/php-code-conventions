# Translations

- ![ru](https://raw.githubusercontent.com/gosquared/flags/master/flags/flags/shiny/24/Russia.png) **[Russian](https://github.com/roistat/php-code-conventions)**

# Table of Contents
  1. [Introduction](#Introduction)
  2. [Goals](#Goals)
  3. [Principles](#Principles)
  4. [General rules](#General-rules)
  5. [Rules of business-logic splitting](#Rules-splitting-business-logic)
  6. [Files](#Files)
  7. [Variables](#Variables)
  8. [Variables and Methods](#variables-and-methods)
  9. [Arrays](#Arrays)
  10. [Strings](#Strings)
  11. [Dates](#Dates)
  12. [Namespaces](#Namespaces)
  13. [Functions](#Functions)
  14. [Return results from methods](#Return-results-methods)
  15. [Classes](#Classes)
  16. [Objects](#objects)
  17. [Comments](#Comments)
  18. [Exceptions](#Exceptions)
  19. [Cloud](#Cloud)
  20. [Pull Requests (PR)](#pull-requests-pr)
  21. [Templates](#Templates)
  22. [-](#-)
  23. [Conditions](#Conditions)
  24. [Ternary Operators](#Ternary-operators)
  25. [Tests](#Tests)
  26. [Chaining Objects](#Chaining)
  27. [Cron Jobs and Scripts](#Cron)
  28. [Authors](#Authors)
  
## **Introduction**

This document contains code writing rules (Code Conventions) in the company Roistat. We have got a lot of experience in developing complex projects, with which we decided to share with others. You can take this document as is or use it as the basis for your own Code Conv.

Work on English translation is in progress. You can help us a lot if you make pull request.
Here you can always find an up to date version of our Code Conv, as we are regularly referring to it in our Code Review.

–û –Ω–∞—à–µ–º –æ–ø—ã—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Code Conv –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –≤ [—Å—Ç–∞—Ç—å–µ –Ω–∞ –•–∞–±—Ä–µ](https://habrahabr.ru/company/roistat/blog/352762/).

Code Conv ‚Äî is a set of rules to follow when writing any kind of code. We treat Code Style and Code Conv separately. For us Code Style is purely visual side of code, e.g. placement of tabs, comas, parentheses, and others. Code Conv on the other hand is meaningful Summary of code, e.g. correct sequences of actions, fitting and meaningful variable and method names, correct overall code composition. Code Style is pretty easy to evaluate automatically, but checking Code Conv, in most cases, is a task only human can do.

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ: Code Style –≤ –ø—Ä–∏–º–µ—Ä–∞—Ö –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –æ—Ç Code Style –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞. –ü—Ä–∏–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è –Ω–∞–¥–æ —Ç–æ–º—É Code Style, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω—è—Ç —É –≤–∞—Å. Code Conv –Ω–µ –æ–± —ç—Ç–æ–º. 

## **Goals**
The main goal of Code Conv ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∏–∑–∫–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∫–æ–¥–∞ –Ω–∞ –¥–ª–∏–Ω–Ω–æ–π –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏.

–û—Å–Ω–æ–≤–Ω—ã–µ —Ü–µ–Ω–Ω–æ—Å—Ç–∏, –ø–æ–º–æ–≥–∞—é—â–∏–µ –¥–æ—Å—Ç–∏—á—å —ç—Ç–æ–π —Ü–µ–ª–∏:

**Readability**

–ö–æ–¥ –¥–æ–ª–∂–µ–Ω –ª–µ–≥–∫–æ —á–∏—Ç–∞—Ç—å—Å—è, –∞ –Ω–µ –ª–µ–≥–∫–æ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å—Å—è. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ —Ç–∞–∫–∏–µ –≤–µ—â–∏ –∫–∞–∫ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π —Å–∞—Ö–∞—Ä (–µ—Å–ª–∏ –æ–Ω –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ —É—Å–∫–æ—Ä–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏, –∞ –Ω–µ –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —á—Ç–µ–Ω–∏—è –∫–æ–¥–∞) –≤—Ä–µ–¥–Ω—ã.
–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –±—ã—Å—Ç—Ä–æ–¥–µ–π—Å—Ç–≤–∏–µ –∫–æ–¥–∞ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Ü–µ–Ω–Ω–æ—Å—Ç—å—é, –ø–æ—ç—Ç–æ–º—É –Ω–µ —Å–∞–º—ã–π –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Ü–∏–∫–ª, –Ω–æ —É–¥–æ–±–Ω—ã–π –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è, –±—É–¥–µ—Ç –ª—É—á—à–µ, —á–µ–º –±—ã—Å—Ç—Ä—ã–π, –Ω–æ —Å–ª–æ–∂–Ω—ã–π. –ù–µ –Ω—É–∂–Ω–æ —ç–∫–æ–Ω–æ–º–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –±—É–∫–≤—ã –¥–ª—è –∏—Ö –Ω–∞–∑–≤–∞–Ω–∏–π, –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—É—é –ø–∞–º—è—Ç—å –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ.

**Vandalproof**

–ö–æ–¥ –Ω–∞–¥–æ –ø–∏—Å–∞—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã —É —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞, –∫–æ—Ç–æ—Ä—ã–π —Å –Ω–∏–º –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –±—ã–ª–æ –∫–∞–∫ –º–æ–∂–Ω–æ –º–µ–Ω—å—à–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤–Ω–µ—Å—Ç–∏ –æ—à–∏–±–∫—É. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–∫—Ä—ã–≤–∞–π—Ç–µ —Ç–µ—Å—Ç–∞–º–∏ –Ω–µ —Ç–æ–ª—å–∫–æ –∫—Ä–∞–µ–≤—ã–µ —É—Å–ª–æ–≤–∏—è, –Ω–æ –∏ –∫–µ–π—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –ø–æ—è–≤–∏—Ç—å—Å—è –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –¥–æ—Ä–∞–±–æ—Ç–æ–∫ –∫–æ–¥–∞ –∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞.

**Maintaining the lowest entropy**

–≠–Ω—Ç—Ä–æ–ø–∏—è ‚Äî —ç—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –∏–∑ –∫–æ—Ç–æ—Ä–æ–π —Å–æ—Å—Ç–æ–∏—Ç –ø—Ä–æ–µ–∫—Ç (–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –µ–º–∫–æ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞). –ö–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞ –¥–æ–ª–∂–µ–Ω –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø—Ä–æ–¥—É–∫—Ç–æ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –Ω–∞–∏–º–µ–Ω—å—à–µ–π –≤–æ–∑–º–æ–∂–Ω–æ–π —ç–Ω—Ç—Ä–æ–ø–∏–∏. 

## **Principles**

–ü—Ä–∏–Ω—Ü–∏–ø—ã ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–±—ã —Å–æ–±–ª—é–¥–µ–Ω–∏—è –æ–ø–∏—Å–∞–Ω–Ω—ã—Ö –≤—ã—à–µ —Ü–µ–Ω–Ω–æ—Å—Ç–µ–π. –û–Ω–∏ —á—É—Ç—å –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω—ã, —Å–æ–¥–µ—Ä–∂–∞—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –ø–æ–¥—Ö–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–º–∏ –º—ã —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤—É–µ–º—Å—è. 

–ö–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å:

- –ü–æ–Ω—è—Ç–Ω—ã–º, —è–≤–Ω—ã–º. –Ø–≤–Ω–æ–µ –ª—É—á—à–µ, —á–µ–º –Ω–µ—è–≤–Ω–æ–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –º–∞–≥–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã. –¢–∞–∫–∂–µ –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `exit` –∏ –ª—é–±—ã–µ –¥—Ä—É–≥–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –∑–∞–≤–µ—Ä—à–∏—Ç—å –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å —Ä–∞–±–æ—Ç—É –ø—Ä–æ—Ü–µ—Å—Å–∞. 
- –£–¥–æ–±–Ω—ã–º –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–µ–π—á–∞—Å
- –£–¥–æ–±–Ω—ã–º –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –±—É–¥—É—â–µ–º
- –î–æ–ª–∂–µ–Ω —Å—Ç—Ä–µ–º–∏—Ç—å—Å—è –∫ —Å–æ–±–ª—é–¥–µ–Ω–∏—é –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ [KISS](https://ru.wikipedia.org/wiki/KISS_(%D0%BF%D1%80%D0%B8%D0%BD%D1%86%D0%B8%D0%BF)), [SOLID](https://ru.wikipedia.org/wiki/SOLID_(%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D0%BD%D0%BE-%D0%BE%D1%80%D0%B8%D0%B5%D0%BD%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D0%BE%D0%B5_%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5)), [DRY](https://ru.wikipedia.org/wiki/Don%E2%80%99t_repeat_yourself), [GRASP](https://ru.wikipedia.org/wiki/GRASP)
- –ö–æ–¥ –¥–æ–ª–∂–µ–Ω –æ–±–ª–∞–¥–∞—Ç—å —Å–ª–∞–±—ã–º –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ–º –∏ –≤—ã—Å–æ–∫–æ–π —Å–≤—è–∑–Ω–æ—Å—Ç—å—é (–ø–æ–¥—Ä–æ–±–Ω–æ —ç—Ç–æ –æ–ø–∏—Å–∞–Ω–æ –≤ GRASP). –õ—é–±–∞—è —á–∞—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ª–æ–≥–∏–∫—É –∏ –ø—Ä–∏ –Ω–∞–¥–æ–±–Ω–æ—Å—Ç–∏ –≤–Ω–µ—à–Ω–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å —ç—Ç–æ–π –ª–æ–≥–∏–∫–æ–π —Ä–∞–±–æ—Ç–∞—Ç—å. –õ—é–±–∞—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —á–∞—Å—Ç—å –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω–Ω–æ–π –±–µ–∑ –∫–∞–∫–æ–≥–æ-–ª–∏–±–æ —É—â–µ—Ä–±–∞ –≤–Ω–µ—à–Ω–∏–º —Å–∏—Å—Ç–µ–º–∞–º
- –ö–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–∞–∫–∏–º, —á—Ç–æ–±—ã –µ–≥–æ –º–æ–∂–Ω–æ –±—ã–ª–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å –≤ IDE (–Ω–∞–ø—Ä–∏–º–µ—Ä, Find usages –∏ Rename –≤ PHPStorm). –¢–æ –µ—Å—Ç—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–ª–∏–Ω–∫–æ–≤–∞–Ω —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π –∏ PHPDoc'–∞–º–∏
- –í –ë–î –Ω–µ –¥–æ–ª–∂–Ω—ã —Ö—Ä–∞–Ω–∏—Ç—å—Å—è —á–∞—Å—Ç–∏ –∫–æ–¥–∞ (–¥–∞–∂–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–ª–∞—Å—Å–æ–≤, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç), —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
- –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º. –ö–æ–¥ –¥–æ–ª–∂–µ–Ω —á–∏—Ç–∞—Ç—å—Å—è —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑. –ß–∏—Ç–∞—é—â–∏–π –Ω–µ –¥–æ–ª–∂–µ–Ω –¥–µ—Ä–∂–∞—Ç—å —á—Ç–æ-—Ç–æ –≤ —É–º–µ, –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –Ω–∞–∑–∞–¥ –∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –∏–Ω–∞—á–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞–¥–æ –∏–∑–±–µ–≥–∞—Ç—å –æ–±—Ä–∞—Ç–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤ `do {} while ();` 
- –î–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é [—Ü–∏–∫–ª–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —Å–ª–æ–∂–Ω–æ—Å—Ç—å](https://ru.wikipedia.org/wiki/%D0%A6%D0%B8%D0%BA%D0%BB%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B0%D1%8F_%D1%81%D0%BB%D0%BE%D0%B6%D0%BD%D0%BE%D1%81%D1%82%D1%8C)

## **General Rules**

### üìñ Unused code is forbidden
–ï—Å–ª–∏ –∫–æ–¥ –º–æ–∂–Ω–æ —É–±—Ä–∞—Ç—å, –∏ —Ä–∞–±–æ—Ç–∞ —Å–∏—Å—Ç–µ–º—ã –æ—Ç —ç—Ç–æ–≥–æ –Ω–µ –∏–∑–º–µ–Ω–∏—Ç—Å—è, –µ–≥–æ –±—ã—Ç—å –Ω–µ –¥–æ–ª–∂–Ω–æ.

Bad:
```php
if (false) {
    legacyMethodCall();
}
// ...
$legacyCondition = true;
if ($legacyCondition) {
    finalizeData($data);
}
```

Good:
```php
// ...
finalizeData($data);
```

### üìñ Functions of specific PHP version should not be used, if they can be avoided
–≠—Ç–æ —É–ø—Ä–æ—Å—Ç–∏—Ç –º–∏–≥—Ä–∞—Ü–∏—é –∫–æ–¥–∞ –Ω–∞ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é —è–∑—ã–∫–∞. –ß–∞—Å—Ç–æ –≤ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ —è–∑—ã–∫–∞ —É–¥–∞–ª—è—é—Ç—Å—è –∫–∞–∫–∏–µ-–ª–∏–±–æ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–ª–∏ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –∏—Ö —Ä–∞–±–æ—Ç–∞. –ß–µ–º –º–µ–Ω—å—à–µ –∏–¥–µ—Ç –∑–∞–≤—è–∑–∫–∏ –Ω–∞ —è–∑—ã–∫ –∏ –µ–≥–æ –≤–µ—Ä—Å–∏—é, —Ç–µ–º –ª—É—á—à–µ.

–°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤—Å–µ–≥–¥–∞ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏–∏-–æ–±—ë—Ä—Ç–∫–∏ –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ–µ–∫—Ç–∞. –¢–æ–≥–¥–∞ –≤ —Å–ª—É—á–∞–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–¥–µ—Ç—Å—è –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å –æ–¥–Ω–æ –º–µ—Å—Ç–æ, –∞ –Ω–µ —Ç—ã—Å—è—á—É.

–ö–∞–∫ –ø–æ–Ω—è—Ç—å, –º–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –≤ PHP —Ñ—É–Ω–∫—Ü–∏—é –∏–ª–∏ –Ω–µ—Ç?

- –ï—Å–ª–∏ —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ–≤—Å–µ–º–µ—Å—Ç–Ω–æ –≤ –ø—Ä–æ–µ–∫—Ç–µ, –∑–Ω–∞—á–∏—Ç, –µ—ë –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏ –≤—ã. –ù–∞–ø—Ä–∏–º–µ—Ä, —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å `explode`/`implode`. –ï—Å–ª–∏ —ç—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –±—É–¥—É—Ç –∏–∑–º–µ–Ω–µ–Ω—ã –≤ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ PHP, —Ç–æ –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ –ø—Ä–∏–¥–µ—Ç—Å—è –ø–µ—Ä–µ–¥–µ–ª–∞—Ç—å –º–Ω–æ–≥–æ –∫–æ–¥–∞ –∏ –¥–µ–ª–∞—Ç—å —ç—Ç–æ –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∫–∞.

- –ï—Å–ª–∏ —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –æ–±—ë—Ä—Ç–∫—É –≤ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —Å–µ—Ä–≤–∏—Å–µ, —Ç–æ –∏ –≤—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ—ë –º–æ–∂–µ—Ç–µ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –æ–±—ë—Ä—Ç–∫—É (–¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏).

Bad:
```php
if (ctype_digit($number)) {
    // ...
}
$distance = levenshtein($text1, $text2);
$urlParts = parse_url($url);
```

Good:
```php
if ($number >= 0) {
    // ...
}
$distance = $textService->levenshtein($text1, $text2);
$urlParts = $urlService->parseUrl($url);
```

### üìñ Instead of the missing scalar value use null
0 –∏ –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∑–Ω–∞—á–µ–Ω–∏—è.
```php
/**
 * @param string $title
 * @param string $message
 * @param string $date
 */
function sendEmail($title, $message = null, $date = null) {
    // ...
}

// —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –±—ã–ª–æ –ø–µ—Ä–µ–¥–∞–Ω–æ
$object->sendEmail('Title', null, '2017-01-01');

// –±—ã–ª–æ –ø–µ—Ä–µ–¥–∞–Ω–æ –ø—É—Å—Ç–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
$object->sendEmail('Title', '', '2017-01-01');
```

–û–¥–Ω–∞–∫–æ, —ç—Ç–æ –ø—Ä–∞–≤–∏–ª–æ –Ω–µ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –º–∞—Å—Å–∏–≤–∞–º.

Bad:
```php
function deleteUsersByIds(array $ids = [], $someOption = false) {
    // ...
}

deleteUsersByIds(null, true);
```

Good:
```php
deleteUsersByIds([], true);
```

–ò—Ç–æ–≥–æ: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—É—Å—Ç–æ–π —Å—Ç—Ä–æ–∫–∏ –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ —è–≤–ª—è–µ—Ç—Å—è –æ—à–∏–±–∫–æ–π.

**[‚¨Ü up](#Summary)**

## **Rules of business-logic splitting**

### üìñ –°–µ—Ä–≤–∏—Å—ã
–°–µ—Ä–≤–∏—Å ‚Äì —ç—Ç–æ –∫–ª–∞—Å—Å –±–µ–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É. –î–∞–Ω–Ω—ã–µ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–µ—Ä–≤–∏—Å –ø–æ–ª—É—á–∞–µ—Ç –ª–∏–±–æ –≤ –≤–∏–¥–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—É–±–ª–∏—á–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤, –ª–∏–±–æ –¥—Ä—É–≥–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤. 

–°–µ—Ä–≤–∏—Å –Ω–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–ª–∏ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:

Bad:
```php
class User {

    public function loadUsers() {
        $path = getenv('DATA_PATH'); // —Ç–∞–∫ –Ω–µ–ª—å–∑—è!
        // ...
    }
}
```

Good:
```php
class Env {
    
    /**
     * @return string
     */
    public function getDataPath(): string {
        return getenv('DATA_PATH');
    }
}

class User {

    /**
     * @var Env
     */
    private $_env;
    
    /**
     * @param Env $env
     */
    public function __construct(Env $env) {
        $this->_env = $env;
    }

    public function loadUsers() {
        $path = $this->_env->getDataPath();
        // ...
    }
}
```
–û–¥–Ω–∞–∫–æ, —ç—Ç–æ –ø—Ä–∞–≤–∏–ª–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –µ—Å–ª–∏ –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –≤–Ω–µ—à–Ω–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Å–µ—Ä–≤–∏—Å–∞.

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π. –≠—Ç–æ —á–∞—Å—Ç–Ω—ã–π —Å–ª—É—á–∞–π —Å–µ—Ä–≤–∏—Å–∞, –Ω–æ –æ–Ω –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –ë–î —á–µ—Ä–µ–∑ –∞–¥–∞–ø—Ç–µ—Ä—ã.

### üìñ –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã. –û–Ω –ø–æ–ª—É—á–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞ –≤—Ö–æ–¥, –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ.

### üìñ –ú–æ–¥–µ–ª–∏
–ú–æ–¥–µ–ª—å ‚Äî –ø—Ä–æ—Å—Ç–æ–π –æ–±—ä–µ–∫—Ç —Å–æ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏, –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –Ω–∏–∫–∞–∫–æ–π –¥—Ä—É–≥–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏, –∫—Ä–æ–º–µ –≥–µ—Ç—Ç–µ—Ä–æ–≤ –∏ —Å–µ—Ç—Ç–µ—Ä–æ–≤. –ì–µ—Ç—Ç–µ—Ä ‚Äî –º–µ—Ç–æ–¥, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –ø–æ–ª—É—á–∏—Ç—å –∫–∞–∫—É—é-—Ç–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞. –≠—Ç–æ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ–ª–µ, –∫–∞–∫ –æ–Ω–æ –µ—Å—Ç—å. –û–Ω –º–æ–∂–µ—Ç –±—Ä–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–ª–µ–π –∏ –¥–µ–ª–∞—Ç—å –ø—Ä–æ—Å—Ç—ã–µ –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ —Å –Ω–∏–º–∏ (–Ω–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞—è –≤–Ω–µ—à–Ω–µ–π –ø—Ä–æ–¥—É–∫—Ç–æ–≤–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏). –°–µ—Ç—Ç–µ—Ä ‚Äî –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–ª–µ–π –±–µ–∑ –∑–∞–ø—Ä–æ—Å–æ–≤ ¬´–Ω–∞—Ä—É–∂—É¬ª.

–£—Å–ª–æ–≤–Ω—ã–π —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä:

```php
class Bill {
    public $id;
    public $sum;
    public $isPaid;
    public $paidDate
    // ...
    
    public function markAsPaid(\DateTime $paymentDate) {
        $this->isPaid = true;
        $this->paidDate = $paymentDate;
    }
}
```

–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ –¥–µ–ª–∞—Ç—å –º–æ–¥–µ–ª–∏ –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–º–∏, —Å–º. [–†–∞–±–æ—Ç–∞ —Å –æ–±—ä–µ–∫—Ç–∞–º–∏](#–†–∞–±–æ—Ç–∞-—Å-–æ–±—ä–µ–∫—Ç–∞–º–∏). –•–æ—Ç–∏—Ç–µ –±–æ–ª—å—à–µ –≥–∏–±–∫–æ—Å—Ç–∏ ‚Äî –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å [chain-–æ–±—ä–µ–∫—Ç—ã](#–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-chain-–æ–±—ä–µ–∫—Ç–æ–≤).

### üìñ –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç—Ä–µ–±—É–µ–º–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ —Å–µ—Ä–≤–µ—Ä–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å HTML-—à–∞–±–ª–æ–Ω, API-–æ–±—ä–µ–∫—Ç –∏–ª–∏ —á—Ç–æ-—Ç–æ –∏–Ω–æ–µ. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, API-–æ–±—ä–µ–∫—Ç –∏ –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö —ç—Ç–æ —Ä–∞–∑–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏, –¥–∞–∂–µ –µ—Å–ª–∏ —É –Ω–∏—Ö —Å–æ–≤–ø–∞–¥–∞–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ –≤—Å–µ –ø–æ–ª—è. –ù–µ–ª—å–∑—è –ø—Ä–æ—Å—Ç–æ –≤–µ—Ä–Ω—É—Ç—å –≤ JSON-–æ—Ç–≤–µ—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞ –º–æ–¥–µ–ª—å –∏–∑ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞:

Bad:
```php
public function actionUsers(): Response {
    $users = $repository->loadUsers();
    return new Response(['data' => $users]);
}
```

–°–≤–æ–π—Å—Ç–≤–∞ –º–æ–¥–µ–ª–∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –º–æ–≥—É—Ç –ø–æ–º–µ–Ω—è—Ç—å—Å—è –∏–∑-–∑–∞ –Ω–æ–≤—ã—Ö —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π, –Ω–æ –æ–±—ä–µ–∫—Ç API —ç—Ç–æ –ø—Ä–æ–¥—É–∫—Ç, –≤—ã –¥–æ–ª–∂–Ω—ã –∏–∑–º–µ–Ω—è—Ç—å –µ–≥–æ —è–≤–Ω–æ:

Good:
```php
// src/Entity/Api/User.php
namespace Entity\Api;

class User {
    public $id;
    public $name;
}

// src/Controller/Api/User.php
public function actionUsers(): Response {
    $users = $repository->loadUsers();
    $apiUsers = array_map(function ($user) {
        return $this->_convertUserToApiObject($user);
    }, $users);
    return new Response(['data' => $apiUsers);
}

private function _convertUserToApiObject(Entity\Mapper\User $user): Entity\Api\User {
    // ...
}
```

**[‚¨Ü up](#Summary)**

## **Files**

### üìñ –ù–∞–∑–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –ø–∏—à—É—Ç—Å—è —Å—Ç—Ä–æ—á–Ω—ã–º–∏ –±—É–∫–≤–∞–º–∏ —á–µ—Ä–µ–∑ underscore
–ö—Ä–æ–º–µ —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ –≤–Ω—É—Ç—Ä–∏ —Ñ–∞–π–ª–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –∫–ª–∞—Å—Å. –í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ —Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω –ø–æ–≤—Ç–æ—Ä—è—Ç—å –Ω–∞–∑–≤–∞–Ω–∏—è –∫–ª–∞—Å—Å–∞, —Ç–æ –µ—Å—Ç—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞–ø–∏—Å–∞–Ω –≤ —Å—Ç–∏–ª–µ UpperCamelCase. –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –æ–±—ã—á–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∏ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏–º—ë–Ω.

### üìñ –§–∞–π–ª—ã –∫–ª–∞—Å—Å–æ–≤ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ö –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º PSR-0

**[‚¨Ü up](#Summary)**

## **Variables**

### üìñ –ù–∞–∑–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–∏—à—É—Ç—Å—è —á–µ—Ä–µ–∑ camelCase

### üìñ –ù–∞–∑–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–æ–ª–∂–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—é
–ù–µ–ª—å–∑—è –ø–∏—Å–∞—Ç—å –∫–æ—Ä–æ—Ç–∫–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä `$c`. –ù–µ–ª—å–∑—è –Ω–∞–∑–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `$day` –∏ —Ö—Ä–∞–Ω–∏—Ç—å –≤ –Ω–µ–π –º–∞—Å—Å–∏–≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –∑–∞ —ç—Ç–æ—Ç –¥–µ–Ω—å.

### üìñ –ß–∞—Å—Ç–æ —É–ø–æ–º–∏–Ω–∞–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã –∏–º–µ–Ω—É—é—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ –≤–æ –≤—Å–µ–º –ø—Ä–æ–µ–∫—Ç–µ

Bad:
```php
$customer = new User();
$client = new User();
$object = new User();
```

Good:
```php
$user = new User();
```

### üìñ –ü—Ä–∏–∑–Ω–∞–∫ –æ–±—ä–µ–∫—Ç–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫ –Ω–∞–∑–≤–∞–Ω–∏—é
–ï—Å–ª–∏ —ç—Ç–æ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ –∫–∞–∫–æ–º—É-—Ç–æ –ø—Ä–∏–∑–Ω–∞–∫—É –ø—Ä–æ–µ–∫—Ç, —Ç–æ –ø—Ä–∏–∑–Ω–∞–∫ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫ –Ω–∞–∑–≤–∞–Ω–∏—é. –ù–∞–ø—Ä–∏–º–µ—Ä, `$unpaidProject`.

### üìñ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –æ—Ç—Ä–∞–∂–∞—é—â–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–∞, –¥–æ–ª–∂–Ω—ã –≤–∫–ª—é—á–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞

Bad:
```php
$project = new Project();
$name = $project->name;
$project = $project->name;
```

Good:
```php
$project = new Project();
$projectName = $project->name;
```

### üìñ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–æ–ª–∂–Ω—ã –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–º –∞–Ω–≥–ª–∏–π—Å–∫–æ–º

Bad:
```php
$usersStored = [];
```

Good:
```php
$storedUsers = [];
```

–ò—Å–∫–ª—é—á–µ–Ω–∏–µ: —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ –Ω–µ–∫–æ–º—É –ø—Ä–∏–∑–Ω–∞–∫—É –ø–æ–ª—è –∏–ª–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–µ—Ñ–∏–∫—Å.

```php
class ProjectInfo {
    const STATUS_READY = 1;
    const STATUS_BLOCKED = 2;

    public $billingIsPaid;
    public $billingPaidDate;
    public $billingSum;
}
```

### üìñ –ö –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –Ω–µ–ª—å–∑—è –æ–±—Ä–∞—â–∞—Ç—å—Å—è –ø–æ —Å—Å—ã–ª–∫–µ (—á–µ—Ä–µ–∑ &)
–ê–º–ø–µ—Ä—Å–∞–Ω–¥—ã –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –∫–∞–∫ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∏–ª–∏ –±–∏—Ç–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã.

Bad:
```php
/**
 * @param string &$name
 */
function removePrefix(&$name) {
    // ...
}
```

Good:
```php
/**
 * @param string $name
 * @return string
 */
function removePrefix($name) {
    // ...
    return $result;
}
```

### üìñ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Å–≤–æ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–∞ –¥–æ–ª–∂–Ω—ã —è–≤–ª—è—Ç—å—Å—è —Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º–∏ –∏ –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —á–∏—Ç–∞–ª–∏—Å—å –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏, –∞ –Ω–µ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.

Bad:
```php
$object->expire_at
$object->setExpireAt($date);
$object->getExpireAt();
```

Good:
```php
$object->expiration_date;
$object->setExpirationDate($date);
$object->getExpirationDate();
```

### üìñ –í –Ω–∞–∑–≤–∞–Ω–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —É–∫–∞–∑–∞–Ω–∏—è —Ç–∏–ø–∞
–ù–µ–ª—å–∑—è –ø–∏—Å–∞—Ç—å `$projectsArray`, –Ω–∞–¥–æ –ø–∏—Å–∞—Ç—å –ø—Ä–æ—Å—Ç–æ `$projects`. –≠—Ç–æ –∂–µ –∫–∞—Å–∞–µ—Ç—Å—è –∏ —Ñ–æ—Ä–º–∞—Ç–æ–≤ (JSON, XML –∏ —Ç.–ø.), –∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π –Ω–µ –æ—Ç–Ω–æ—Å—è—â–µ–π—Å—è –∫ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

Bad:
```php
$projectsList = $repository->loadProjects();
$projectsListIds = $utils->extractField('id', $projectsList);
```

Good:
```php
$projects = $repository->loadProjects();
$projectsIds = $utils->extractField('id', $projects);
```

### üìñ –ù–µ–ª—å–∑—è –∏–∑–º–µ–Ω—è—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ –º–µ—Ç–æ–¥ –Ω–∞ –≤—Ö–æ–¥ 
–ò—Å–∫–ª—é—á–µ–Ω–∏–µ ‚Äî –µ—Å–ª–∏ —ç—Ç–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–±—ä–µ–∫—Ç.

Bad:
```php
function parseText($text) {
    $text = trim($text);
    // ...
}
```

Good:
```php
function parseText($text) {
    $trimmedText = trim($text);
    // ...
}
```

### üìñ –ö–∞–∂–¥–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∞ –Ω–∞ –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–µ

Bad:
```php
$foo = false; $bar = true;
```

Good:
```php
$foo = false;
$bar = true;
```

### üìñ –ù–µ–ª—å–∑—è –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –ø—Ä–∏—Å–≤–∞–∏–≤–∞—Ç—å –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ –∑–Ω–∞—á–µ–Ω–∏–µ

Bad:
```php
function loadUsers(array $ids) {
    $usersIds = $ids;
    // ...
}
```

### üìñ –û–ø–µ—Ä–∞—Ç–æ—Ä `clone` –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –≤ —Ç–µ—Ö —Å–ª—É—á–∞—è—Ö, –∫–æ–≥–¥–∞ –±–µ–∑ –Ω–µ–≥–æ –Ω–µ –æ–±–æ–π—Ç–∏—Å—å
–¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `clone`, –µ—Å–ª–∏ –±–µ–∑ –Ω–µ–≥–æ –∫–æ–¥ —Å–µ—Ä—å—ë–∑–Ω–æ —É—Å–ª–æ–∂–Ω–∏—Ç—Å—è, –∞ —Å –Ω–∏–º —Å—Ç–∞–Ω–µ—Ç –ø–æ–Ω—è—Ç–Ω—ã–º –∏ –æ—á–µ–≤–∏–¥–Ω—ã–º. –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä ‚Äî –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ DateTime. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –¥–≤—É—Ö –≤–µ—Ä—Å–∏–π –æ–±—ä–µ–∫—Ç–∞: —Å—Ç–∞—Ä–æ–π –∏ –Ω–æ–≤–æ–π. 

Bad:
```php
function loadAnalyticsData(\DateTime $intervalStart) {
    $intervalEnd = new \DateTime($intervalStart->format('Y-m-d H:i:s'));
    $intervalEnd->modify('+1 day');
}

function updateUser(User $user) {
    $oldUser = new User();
    $oldUser->id = $user->id;
    $oldUser->name = $user->name;
    // ...
    logObjectDiff($user, $oldUser);
}
```

Good:
```php
function loadAnalyticsData(\DateTime $intervalStart) {
    $intervalEnd = clone $intervalStart;
    $intervalEnd->modify('+1 day');
}

function updateUser(User $user) {
    $oldUser = clone $user;
    // ...
    logObjectDiff($user, $oldUser);
}
```

### üìñ –ó–∞–ø—Ä–µ—â–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è

Bad:
```php
$foo = $bar = strlen($someVar);
```

Good:
```php
$bar = strlen($someVar);
$foo = $bar;
```


Bad:
```php
$this->_callSomeFunc($bar = strlen($foo));
```

Good:
```php
$bar = strlen($foo);
$this->_callSomeFunc($bar);
```


Bad:
```php
if (strlen($foo = json_encode($bar)) > 100) {
    // ...
}
```

Good:
```php
$foo = json_encode($bar);
if (strlen($foo) > 100) {
    // ...
}
```

### üìñ –ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ `constant`

Bad:
```php
/**
 * @return string
 */
public function getProjectDir(): string {
    $prefix = 'ACME_';
    $name = $prefix . 'PROJECT_DIR';
    return constant($name);
}

/**
 * @return string
 */
public function getProjectDir(): string {
    return constant('ACME_PROJECT_DIR');
}
```

Good:
```php
/**
 * @return string
 */
public function getProjectDir(): string {
    return ACME_PROJECT_DIR;
}
```

**[‚¨Ü up](#Summary)**

## **Variables and Methods**

### üìñ –ù–∞–∑–≤–∞–Ω–∏—è boolean –º–µ—Ç–æ–¥–æ–≤ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≥–ª–∞–≥–æ–ª `is`, `has` –∏–ª–∏ `can`

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞–∑—ã–≤–∞—Ç—å, –æ–ø–∏—Å—ã–≤–∞—è –∏—Ö —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ, –∞ –º–µ—Ç–æ–¥—ã ‚Äî –∑–∞–¥–∞–≤–∞—è –≤–æ–ø—Ä–æ—Å. –ï—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–≤–æ–π—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–∞, —Å–ª–µ–¥—É–µ–º –ø—Ä–∞–≤–∏–ª—É [–ø—Ä–∏–∑–Ω–∞–∫ –æ–±—ä–µ–∫—Ç–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫ –Ω–∞–∑–≤–∞–Ω–∏—é](#-–ü—Ä–∏–∑–Ω–∞–∫-–æ–±—ä–µ–∫—Ç–∞-–¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è-–∫-–Ω–∞–∑–≤–∞–Ω–∏—é).

Bad:
```php
$isUserValid = $user->valid();
$isProjectAnalytics = $accessManager->getProjectAccess($project, 'analytics');
```

Good:
```php
$userIsValid = $user->isValid();
$projectCanAccessAnalytics = $accessManager->canProjectAccess($project, 'analytics');
```

–ì–µ—Ç—Ç–µ—Ä—ã –∏–º–µ–Ω—É—é—Ç—Å—è –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º:

```php
class User {
    private $_billingIsPaid;
    private $_isEnabled;

    public function isEnabled() {
        return $this->_isEnabled;
    }

    public function billingIsPaid() {
        return $this->_billingIsPaid;
    }
}
```

–¢–∞–∫–æ–µ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥—á–µ —á–∏—Ç–∞—Ç—å —É—Å–ª–æ–≤–∏—è:

```php
// if user is valid, then do something
if ($userIsValid) {
    // do something
}
```

### üìñ –ó–∞–ø—Ä–µ—â–µ–Ω—ã –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è

Bad:
```php
if ($project->isInvalid()) {
    // ...
}
if ($project->isNotValid()) {
    // ...
}
if ($accessManager->isAccessDenied()) {
    // ...
}
```

Good:
```php
if (!$project->isValid()) {
    // ...
}
if (!$accessManager->isAccessAllowed()) {
    // ...
}
if ($accessManager->canAccess()) {
    // ...
}
```

### üìñ –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ boolean –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (—Ñ–ª–∞–≥–∏) –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ—É–Ω–∫—Ü–∏–∏
–§–ª–∞–≥ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —ç—Ç–æ –ø—Ä–∏–∑–Ω–∞–∫ —Ç–æ–≥–æ, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –¥–µ–ª–∞–µ—Ç –±–æ–ª—å—à–µ –æ–¥–Ω–æ–π –≤–µ—â–∏, –Ω–∞—Ä—É—à–∞—è [–ø—Ä–∏–Ω—Ü–∏–ø –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (Single Responsibility Principle –∏–ª–∏ SRP)](https://ru.wikipedia.org/wiki/%D0%9F%D1%80%D0%B8%D0%BD%D1%86%D0%B8%D0%BF_%D0%B5%D0%B4%D0%B8%D0%BD%D1%81%D1%82%D0%B2%D0%B5%D0%BD%D0%BD%D0%BE%D0%B9_%D0%BE%D1%82%D0%B2%D0%B5%D1%82%D1%81%D1%82%D0%B2%D0%B5%D0%BD%D0%BD%D0%BE%D1%81%D1%82%D0%B8). –ò–∑–±–∞–≤–ª—è–π—Ç–µ—Å—å –æ—Ç –Ω–∏—Ö, –≤—ã–¥–µ–ª—è—è –∫–æ–¥ –≤–Ω—Ç—É—Ä–∏ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –±–ª–æ–∫–æ–≤ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –≤–µ—Ç–≤–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

Bad:
```php
function someMethod() {
    // ...
    $projectNotificationIsEnabled = $notificationManager->isProjectNotificationEnabled($project);
    storeUser($user, $projectNotificationIsEnabled);
}

function storeUser(User $user, $isNotificationEnabled) {
    // ...
    if ($isNotificationEnabled) {
        notify('new user');
    }
}
```

Good:
```php
function someMethod() {
    // ...
    storeUser($user);
    if ($notificationManager->isProjectNotificationEnabled($project)) {
        notify('new user');
    }
}

function storeUser(User $user) {
    // ...
}
```

**[‚¨Ü up](#Summary)**

## **Arrays**

### üìñ –î–ª—è –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏–∏ –º–∞—Å—Å–∏–≤–æ–≤ –∑–∞–ø—Ä–µ—â–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä `+`.
–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ `array_merge` –≤—Å–µ —á–∏—Å–ª–æ–≤—ã–µ –∫–ª—é—á–∏ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ `int`, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω–∏ –∑–∞–ø–∏—Å–∞–Ω—ã —Å—Ç—Ä–æ–∫–æ–π.

Bad:
```php
return $initialData + $loadedData;
```

Good:
```php
namespace Service;

class ArrayUtils {

    /**
     * @param array $array1
     * @param array $array2
     * @return array
     */
    public function mergeArrays(array $array1, array $array2): array {
        return array_merge($array1, $array2);
    }
}

public function someMethod() {
    return $this->_arrayUtils->mergeArrays($initialData, $loadedData);
}
```

### üìñ –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞–ª–∏—á–∏—è –∫–ª—é—á–∞ –≤ –∞—Å—Å–æ—Ü–∏–∞—Ç–∏–≤–Ω–æ–º –º–∞—Å—Å–∏–≤–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º `array_key_exists`, –∞ –Ω–µ `isset`
`isset` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–µ –∫–ª—é—á –Ω–∞ –µ–≥–æ –Ω–∞–ª–∏—á–∏–µ, –∞ –∑–Ω–∞—á–µ–Ω–∏–µ —ç—Ç–æ–≥–æ –∫–ª—é—á–∞, –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å. –≠—Ç–æ —Ä–∞–∑–Ω—ã–µ –º–µ—Ç–æ–¥—ã —Å —Ä–∞–∑–Ω—ã–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ–º. –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∫–ª—é—á–∞, —Ç–æ –¥–µ–ª–∞–π—Ç–µ —ç—Ç–æ —è–≤–Ω–æ. –°–Ω–∞—á–∞–ª–∞ —è–≤–Ω–æ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –∫–ª—é—á–∞ —á–µ—Ä–µ–∑ `array_key_exists` –∏ –æ–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ —Å–∏—Ç—É–∞—Ü–∏—é –µ–≥–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è, –∑–∞—Ç–µ–º –ø—Ä–∏—Å—Ç—É–ø–∞–π—Ç–µ –∫ —Ä–∞–±–æ—Ç–µ —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º.

Bad:
```php
function getProjectKey(array $requestData) {
    return isset($requestData['project_key']) ? $requestData['project_key'] : null;
}
```

Good:
```php
function getProjectKey(array $requestData) {
    if (!array_key_exists('project_key', $requestData)) {
        return null;
    }
    return $requestData['project_key'];
}
```

### üìñ –ê—Å—Å–æ—Ü–∏–∞—Ç–∏–≤–Ω—ã–π –º–∞—Å—Å–∏–≤ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–∞–∫ hashmap
–¢–æ –µ—Å—Ç—å –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ–º —Ä–∞–∑–Ω—ã–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –≤ PHP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã. –ü—Ä–∏–≤–µ–¥–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ—á–µ–≤–∏–¥–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ (–æ–¥–Ω–∞–∫–æ, –ø—Ä–∞–≤–∏–ª–æ –∏–º–∏ –Ω–µ –∏—Å—á–µ—Ä–ø—ã–≤–∞–µ—Ç—Å—è):

#### üìñ –ù–µ–ª—å–∑—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∞—Å—Å–æ—Ü–∏–∞—Ç–∏–≤–Ω—ã–µ –º–∞—Å—Å–∏–≤—ã

Bad:
```php
$arr = [
    'project_key' => 'foo',
    'key' => 'bar',
    'user_id' => 300,
];

uasort($arr);
```

#### üìñ –ù–µ–ª—å–∑—è —Å–º–µ—à–∏–≤–∞—Ç—å –≤ –º–∞—Å—Å–∏–≤–µ —Å—Ç—Ä–æ–∫–æ–≤—ã–µ –∏ —á–∏—Å–ª–æ–≤—ã–µ –∫–ª—é—á–∏

Bad:
```php
$arr = [
    'project_key' => 'foo',
    'key' => 'bar',
    'user_id' => 300,
    1 => 'value1',
    2 => 'value2',
];

$arr[3] = 'value3';
```

#### üìñ –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞–ª–∏—á–∏—è –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ –∏–Ω–¥–µ–∫—Å—É –≤ –æ–±—ã—á–Ω—ã—Ö (–Ω–µ –∞—Å—Å–æ—Ü–∏–∞—Ç–∏–≤–Ω—ã—Ö) –º–∞—Å—Å–∏–≤–∞—Ö –∏—Å–ø–æ–ª—å–∑—É–µ–º `count($array) > N`

Bad:
```php
if (array_key_exists(1, $users)) {
    // ...
}
if (isset($users[1])) {
    // ...
}
```

Good:
```php
if (count($users) > 1) {
   // ... 
}
```

**[‚¨Ü up](#Summary)**

## **Strings**

### üìñ –°—Ç—Ä–æ–∫–∏ –æ–±—Ä–∞–º–ª—è—é—Ç—Å—è –æ–¥–∏–Ω–∞—Ä–Ω—ã–º–∏ –∫–∞–≤—ã—á–∫–∞–º–∏
–î–≤–æ–π–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ, –µ—Å–ª–∏:
* –í–Ω—É—Ç—Ä–∏ —Å—Ç—Ä–æ–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–¥–∏–Ω–∞—Ä–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏
* –í–Ω—É—Ç—Ä–∏ —Å—Ç—Ä–æ–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
* –í–Ω—É—Ç—Ä–∏ —Å—Ç—Ä–æ–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–ø–µ—Ü. —Å–∏–º–≤–æ–ª—ã `\n`, `\r`, `\t` –∏ —Ç.–¥.

Bad:
```php
$string = "Some string";
$string = 'Some \'string\'';
$string = "\t".'Some string'."\n";
```

Good:
```php
$string = 'Some string';
$string = "Some 'string'";
$string = "\tSome string\n";
```

### üìñ Instead of unnecessary concatenation, we use variable substitution in double quotes using curly braces

Bad:
```php
$string = 'Object with type "' . $object->type() . '" has been removed';
```

Good:
```php
$string = "Object with type \"{$object->type()}\" has been removed";
```

**[‚¨Ü up](#Summary)**

## **Dates**

### üìñ –î–∞—Ç–∞ –≤—Å–µ–≥–¥–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ DateTime, –∏–Ω—Ç–µ—Ä–≤–∞–ª –∫–∞–∫ DateInterval

Bad:
```php
$date = $request->get('date');
$interval = 86400*30;
loadSomeData($date, $interval);
```

Good:
```php
$date = $this->_dateService->instance($request->get('date'));
$interval = new \DateInterval('P30D');
loadSomeData($date, $interval);
```

### üìñ –ó–∞–ø—Ä–µ—â–µ–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç –¥–∞—Ç—ã –ø—Ä–∏ –ø–æ–º–æ—â–∏ `new \DateTime()`

–í –ø—Ä–æ–µ–∫—Ç–µ –¥–ª—è —ç—Ç–æ–≥–æ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ñ–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥ –≤ —Å–µ—Ä–≤–∏—Å–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞—Ç–∞–º–∏.

Bad:
```php
$date = new \DateTime();
```

Good:
```php
$date = $this->_dateService->instance();
```

### üìñ –ï—Å–ª–∏ –¥–∞—Ç–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ —Å–∫–∞–ª—è—Ä–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–∫—É

* —Å—Ç—Ä–æ–∫–∞ —Å –¥–∞—Ç–æ–π –∏ –≤—Ä–µ–º–µ–Ω–µ–º –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–µ–∑–¥–µ –≤ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
* —Ñ–æ—Ä–º–∞—Ç –Ω–µ –¥–æ–ª–∂–µ–Ω –≤–∫–ª—é—á–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—É—é –∑–æ–Ω—É, –µ—Å–ª–∏ –¥–ª—è —ç—Ç–æ–≥–æ –Ω–µ –æ—Å–æ–±—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
* –ø—Ä–∏ –ø—Ä–æ—á–∏—Ö —Ä–∞–≤–Ω—ã—Ö –≤ –¥–∞—Ç–µ –±–µ–∑ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞ –≤—Å–µ–≥–¥–∞ –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç—Å—è UTC0
* –µ—Å–ª–∏ —Å—Ç—Ä–æ–∫—É –ø–æ –∫–∞–∫–æ–π-—Ç–æ –ø—Ä–∏—á–∏–Ω–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –∏—Å–ø–æ–ª—å–∑—É–µ–º `int`

Bad:
```php
class User {
    public $creation_time;
}

$user->creation_time = time();
```

Good:
```php
class User {
    /**
     * @type string
     */
    public $creation_date;
}

$user->creation_date = '2018-01-18 12:54:11';
```

### üìñ –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞–º–∏/–ø–µ—Ä–∏–æ–¥–∞–º–∏ –∑–∞–ø—Ä–µ—â–µ–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –º–µ—Å—è—Ü –∏–ª–∏ –≥–æ–¥

–í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã –º–µ—Å—è—Ü –∏ –≥–æ–¥ –º–æ–≥—É—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–æ–º–µ–∂—É—Ç–∫–∏ (–≤–∏—Å–æ–∫–æ—Å–Ω—ã–π –∏ –æ–±—ã—á–Ω—ã–π –≥–æ–¥, —Ä–∞–∑–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π –≤ –º–µ—Å—è—Ü–µ). –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –≤ –∫–∞—á–µ—Å—Ç–≤–µ —É–∫–∞–∑–∞–Ω–∏—è –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–Ω–∏, —á–∞—Å—ã, –º–∏–Ω—É—Ç—ã, —Å–µ–∫—É–Ω–¥—ã.

Bad:
```php
$dateTime = new \DateTime('-2 month');
$dateInterval = new \DateInterval('P2M');
```

Good:
```php
$dateTime = new $this->_dateTime->instance('-60 days');
$dateInterval = new \DateInterval('P60D');
```

–ú–µ—Å—è—Ü –∏–ª–∏ –≥–æ–¥ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –µ—Å–ª–∏ —ç—Ç–æ –Ω–∞–ø—Ä—è–º—É—é —É–∫–∞–∑–∞–Ω–æ –≤ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è—Ö –∑–∞–¥–∞—á–∏ –∫–∞–∫ –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–π –º–µ—Å—è—Ü –∏–ª–∏ –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–π –≥–æ–¥.

**[‚¨Ü up](#Summary)**

## **Namespaces**

### üìñ –í—Å–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏–º—ë–Ω –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω—ã —á–µ—Ä–µ–∑ `use` –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞. –í —Å–∞–º–æ–º –∫–æ–¥–µ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ–±—Ä–∞—Ç–Ω–æ–≥–æ —Å–ª–µ—à–∞ –ø–µ—Ä–µ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏–º—ë–Ω

Bad:
```php
$object = new \Some\Object();
```

Good:
```php
use Some;
$object = new Some\Object();
```

### üìñ –í —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å –æ–±—ã—á–Ω—ã–µ –∫–ª–∞—Å—Å—ã –±–µ–∑ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏–º—ë–Ω –Ω–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω—ã —á–µ—Ä–µ–∑ `use`

Bad:
```php
use TimeZone;
$date = new TimeZone('Europe\Moscow');
```

Good:
```php
$date = new \TimeZone('Europe\Moscow');
```

### üìñ –ù–µ–ª—å–∑—è –ø–æ–¥–∫–ª—é—á–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª–∞—Å—Å–æ–≤ –∏–∑ –æ–¥–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏–º—ë–Ω —á–µ—Ä–µ–∑ `use`

Bad:
```php
use Entity\User;
use Entity\Project;
 
$user = new User();
$project = new Project();
```

Good:
```php
use Entity;
  
$user = new Entity\User();
$project = new Entity\Project();
```

### üìñ –°–ª–µ–¥—É–µ—Ç –∏–∑–±–µ–≥–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Å–µ–¥–æ–Ω–∏–º–∞ (alias)
–û–Ω–∏ –∑–∞–ø—É—Ç—ã–≤–∞—é—Ç –∫–æ–¥ –∏ –µ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏–µ. –ï—Å–ª–∏ —É –≤–∞—Å —Å–æ–≤–ø–∞–¥–∞—é—Ç –Ω–∞–∑–≤–∞–Ω–∏—è –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤ –∏–º—ë–Ω, —Ç–æ, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –≤—ã –¥–µ–ª–∞–µ—Ç–µ —á—Ç–æ-—Ç–æ –Ω–µ —Ç–∞–∫. –î–æ–ø—É—Å—Ç–∏–º–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Å–µ–≤–¥–æ–Ω–∏–º, –µ—Å–ª–∏ –¥—Ä—É–≥–æ–µ —Ä–µ—à–µ–Ω–∏–µ –±—É–¥–µ—Ç —Å–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω—ã–º.

Bad:
```php
use Component\User;
use Entity\User as UserEntity;

$user = new UserEntity();
```

Good:
```php
use Component\User;
use Entity;

$user = new Entity\User();
```

**[‚¨Ü up](#Summary)**

## **Functions**

### üìñ –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –≤–æ–∑–º–æ–∂–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –¥–ª—è –≤–∞—à–µ–π –≤–µ—Ä—Å–∏–∏ PHP. –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –∏—Ö —Ç–∏–ø—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–ø–∏—Å–∞–Ω—ã –≤ PHPDoc. –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–æ–∂–µ.

Bad:
```php
/**
 * @param $id
 * @param $name
 * @param $tags
 * @return mixed
 */
function storeUser($id, $name, $tags = []) {
    // ...
}
```

Good:
```php
// –¥–ª—è PHP 7.1
/**
 * @param int $id
 * @param string $name
 * @param string[] $tags
 * @return User|null
 */
function storeUser(int $id, string $name, array $tags = []): ?User {
    // ...
}

// –¥–ª—è PHP 5.6
// –±–µ–∑ —Å—Ç—Ä–æ–≥–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö —Ç–∏–ø–æ–≤ –ª—é–±–æ–π –º–µ—Ç–æ–¥
// –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å null, —Ç–∞–∫ —á—Ç–æ –º–æ–∂–Ω–æ –µ–≥–æ –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å –≤ PHPDoc
/**
 * @param int $id
 * @param string $name
 * @param string[] $tags
 * @return User
 */
function storeUser($id, $name, array $tags = []) {
    // ...
}
```

### üìñ –í—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Ç–∏–ø—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ PHPDoc
–ù–∞–∏–±–æ–ª—å—à—É—é –ø–æ–ª—å–∑—É —ç—Ç–æ –ø—Ä–∏–Ω–æ—Å–∏—Ç –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –º–∞—Å—Å–∏–≤–∞–º–∏:

Bad:
```php
/**
 * @param array $users
 * @param mixed $project
 * @param int $timestamp
 * @return mixed
 */ 
public function someMethod($users, $project, $timestmap) {
    foreach ($users as $user) {
        // IDE –Ω–µ —Å–º–æ–∂–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø $user
    }
    // ...
}
```

Good:
```php
/**
 * @param Users[] $users
 * @param Project $project
 * @param int $timestamp
 * @return Foo
 */
public function someMethod(array $users, Project $project, int $timestmap): Foo {
    foreach ($users as $user) {
        // –ø–æ–¥—Å–∫–∞–∑–∫–∏ IDE –∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
    }
    // ...
}
```

### üìñ –í PHPDoc —É –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –Ω–µ –Ω–∞–¥–æ —É–∫–∞–∑—ã–≤–∞—Ç—å `null`

Bad:
```php
/**
* @param string|null $sortBy
* @return \DateTimeZone[]
*/
public function getTimeZonesList($sortBy = null) {
    // ...
}
```

Good:
```php
/**
* @param string $sortBy
* @return \DateTimeZone[]
*/
public function getTimeZonesList($sortBy = null) {
    // ...
}
```

### üìñ –í PHPDoc –≤ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–º –∑–Ω–∞—á–µ–Ω–∏–∏ –Ω–µ –Ω–∞–¥–æ —É–∫–∞–∑—ã–≤–∞—Ç—å `void` –∏ `null`, –µ—Å–ª–∏ –º–µ—Ç–æ–¥ –Ω–∏—á–µ–≥–æ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç.

Bad:
```php
/**
 * @param string $controllerName
 * @return void
 */
public function runApplication(string $controllerName) {
    // ...
}

/**
 * @return null
 */
public function run() {
    // ...
}
```

Good:
```php
/**
 * @param string $controllerName
 */
public function runApplication(string $controllerName) {
    // ...
}

public function run() {
    // ...
}
```

### üìñ –ù–∞–∑–≤–∞–Ω–∏–µ –º–µ—Ç–æ–¥–∞ –¥–æ–ª–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å –≥–ª–∞–≥–æ–ª–∞ –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞–º –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö.

Bad:
```php
public function items() {
    // ...
}
public function convertedDataObject(array $data) {
    // ...
}
```

Good:
```php
public function loadItems() {
    // ...
}
public function convertDataToObject(array $data) {
    // ...
}
```

### üìñ –ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–ª–∞–≥–æ–ª get –≤ –≥–µ—Ç—Ç–µ—Ä–∞—Ö
–ù–∞–ø—Ä–∏–º–µ—Ä, –≤–º–µ—Å—Ç–æ `getDate()` —Å–ª–µ–¥—É–µ—Ç –ø–∏—Å–∞—Ç—å `date()`. –ì–µ—Ç—Ç–µ—Ä ‚Äî –º–µ—Ç–æ–¥, —Ä–∞–±–æ—Ç–∞—é—â–∏–π —Ç–æ–ª—å–∫–æ —Å –ø–æ–ª—è–º–∏ —Å–≤–æ–µ–≥–æ –æ–±—ä–µ–∫—Ç–∞.

Bad:
```php
class User {
    private $_date;
    private $_customFields;

    public function getDate() {
        return $this->_date;
    }

    public function getCustomFields() {
        return json_decode($this->_customFields);
    }
}
```

Good:
```php
class User {
    private $_date;
    private $_customFields;

    public function date() {
        return $this->_date;
    }

    public function decodedCustomFields() {
        return json_decode($this->_customFields);
    }
}
```

### üìñ –ú–µ—Ç–æ–¥—ã –Ω–∞–∑–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è c `check` –∏ `validate`, –¥–æ–ª–∂–Ω—ã –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∏ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è

Bad:
```php
public function validateRequestData(array $requestData) {
    if (!array_key_exists('key', $requestData)) {
        return false;
    }
    // ...
    return true;
}
```

Good:
```php
public function validateRequestData(array $requestData) {
    if (!array_key_exists('key', $requestData)) {
        throw new ValidationError('Field "key" not found');
    }
    // ...
}
```

### üìñ –í—Å–µ –º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å private
–ï—Å–ª–∏ –º–µ—Ç–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞–º–∏ –∫–ª–∞—Å—Å–∞, —Ç–æ –æ–Ω –æ–±—ä—è–≤–ª—è–µ—Ç—Å—è `protected`. –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–æ—Ä–æ–Ω–Ω–∏–º–∏ –∫–ª–∞—Å—Å–∞–º–∏, —Ç–æ–≥–¥–∞ `public`.

### üìñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–∫—É—Ä—Å–∏–π –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ–º —Å–ª—É—á–∞–µ
–ï—Å–ª–∏ –∫–æ–¥ –±–µ–∑ —Ä–µ–∫—É—Ä—Å–∏–∏ –±—É–¥–µ—Ç –æ—á–µ–Ω—å —Å–ª–æ–∂–µ–Ω –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∏ –ø–æ–Ω–∏–º–∞–Ω–∏—è –∏ –ø—Ä–∏ —ç—Ç–æ–º —Ä–µ–∫—É—Ä—Å–∏—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –Ω–µ –≤—ã–π–¥–µ—Ç –∑–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å—Ç–µ–∫–∞ –≤—ã–∑–æ–≤–æ–≤.

### üìñ –ó–∞–ø—Ä–µ—â–∞–µ—Ç—Å—è –∫–µ—à–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–∞
–î–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø–∞–º—è—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–≤–æ–π—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–∞.

Bad:
```php
public function loadData() {
    static $_cachedData;
    if ($_cachedData === null) {
        $_cachedData = [];
    }
    return $_cachedData;
}
```

Good:
```php
private $_cachedData = [];

public function loadData() {
    if ($this->_cachedData === null) {
        $this->_cachedData = [];
    }
    return $this->_cachedData;
}
```

### üìñ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –º–µ—Ç–æ–¥–∞—Ö –¥–æ–ª–∂–Ω—ã —Å–ª–µ–¥–æ–≤–∞—Ç—å –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ—Ä—è–¥–∫–µ: –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ ‚Üí —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ ‚Üí —Ä–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ
–ù—É–∂–Ω–æ —Å–æ–±–ª—é–¥–∞—Ç—å —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –ø—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –≤—ã–∑–æ–≤–∞.

Bad:
```php
public function method($required, $practicallyUnused = 5, $often = [], $lessOften = null)
public function filter($value, $name, $operator) // ...$service->filter(15, "id", "=")
```

Good:
```php
public function method($required, $often = [], $lessOften = null, $practicallyUnused = 5)
public function filter($name, $operator, $value) // ...$service->filter("id", "=", 15)
```

### üìñ –ï—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã–µ –Ω–∞ –≤—Ö–æ–¥ –∫ –º–µ—Ç–æ–¥—É, –º–æ–≥—É—Ç –±—ã—Ç—å `null`, –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã —è–≤–Ω–æ –æ–±–æ–∑–Ω–∞—á–∞—Ç—å—Å—è –∫–∞–∫ —Ç–∞–∫–æ–≤—ã–µ

Good:
```php
/**
 * @param string $projectName
 */
public function someMethod($projectName = null) {
    // ...
}
```

**[‚¨Ü up](#Summary)**

## **Return results from methods**

### üìñ –ú–µ—Ç–æ–¥ –≤—Å–µ–≥–¥–∞ –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö (–∏–ª–∏ `null`) –∏–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å
–ú–µ—Ç–æ–¥ –Ω–µ –º–æ–∂–µ—Ç –≤ —Ä–∞–∑–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö.

Bad:
```php
function loadUser() {
    if ($someCondition) {
        return ['id' => 1];
    }
    return new User();
}
```

Good:
```php
function loadUser() {
    if ($someCondition) {
        $user = new User();
        $user->id = 1;
        return $user;
    }
    return new User();
}
```

### üìñ –ï—Å–ª–∏ –º–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç (–∏–ª–∏ —Å–∫–∞–ª—è—Ä–Ω—ã–π —Ç–∏–ø), —Ç–æ –≤ —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è `null`
–ï—Å–ª–∏ –∂–µ –º–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤, —Ç–æ –≤ —Å–ª—É—á–∞–µ, –∫–æ–≥–¥–∞ —Å–ø–∏—Å–æ–∫ –ø—É—Å—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤. –ù–µ–ª—å–∑—è –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –≤–º–µ—Å—Ç–æ –ø—É—Å—Ç–æ–≥–æ —Å–ø–∏—Å–∫–∞ `null`.

Bad:
```php
function loadUsers() {
    if ($someCondition) {
        return null;
    }
    return [new User()];
}
```

Good:
```php
function loadUsers() {
    if ($someCondition) {
        return [];
    }
    return [new User()];
}
```

–û–¥–Ω–∞–∫–æ, –±—ã–≤–∞—é—Ç —Å–∏—Ç—É–∞—Ü–∏–∏, –∫–æ–≥–¥–∞ –Ω–∞–¥–æ —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –æ—Ç—Å—É—Ç–≤—É—é—Ç, –∞ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫.

–ü—Ä–∏–º–µ—Ä: –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª–µ–π –æ–±—ä–µ–∫—Ç–∞ –∑–∞–¥–∞—é—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º. –í–æ–∑–º–æ–∂–Ω—ã –¥–≤–µ —Å–∏—Ç—É–∞—Ü–∏–∏:
- –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–Ω–∞–µ—Ç, –∫–∞–∫–∏–º –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –æ–±—ä–µ–∫—Ç ‚Äî `null`
- –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–Ω–∞–µ—Ç, —á—Ç–æ –æ–±—ä–µ–∫—Ç –Ω–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –Ω–∏ –æ–¥–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ ‚Äî –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ (`[]`)

–¢–æ–≥–¥–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π –æ–±—ä–µ–∫—Ç–∞ –±—É–¥–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ç–∞–∫–æ–π –∫–æ–¥:

```php
/**
 * –¥–ª—è PHP 5.6
 * @return array|null
 */
function getObjectCategories($object) {
    if ($object->categories === null) {
        return null;
    }
    return parseCategories($object->categories);
}

/**
 * –¥–ª—è PHP 7.1
 * @return array|null
 */
function getObjectCategories($object): ?array {
    if ($object->categories === null) {
        return null;
    }
    return parseCategories($object->categories);
}
```

### üìñ –í–æ–∑–≤—Ä–∞—â–∞–µ–º–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–±—ã—á–Ω–æ `$result`
–ï—Å–ª–∏ —É –≤–∞—Å –º–µ—Ç–æ–¥ `loadUsers`, —Ç–æ –Ω–µ –Ω–∞–¥–æ –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –Ω–∞–∑—ã–≤–∞—Ç—å `$users`. –í –ª—é–±–æ–º –º–µ—Å—Ç–µ –≤ –º–µ—Ç–æ–¥–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–Ω—è—Ç–Ω–æ, –≥–¥–µ –≤—ã –æ–ø–µ—Ä–∏—Ä—É–µ—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º, –∞ –≥–¥–µ –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏.

Bad:
```php
function loadUsers() {
    $users = [];
    // ...
    foreach ($data as $item) {
        $users[] = new User();
    }
    return $users;
}
```

Good:
```php
function loadUsers() {
    $result = [];
    // ...
    foreach ($data as $item) {
        $result[] = new User();
    }
    return $result;
}
```

### üìñ –ú–µ—Ç–æ–¥ –¥–æ–ª–∂–µ–Ω —è–≤–Ω–æ –æ—Ç–ª–∏—á–∞—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏ –æ—Ç –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—ã—Ö
–ï—Å–ª–∏ –Ω–∏–∫–∞–∫–æ–π –æ—à–∏–±–∫–∏ –Ω–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ, –Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç, —Ç–æ —ç—Ç–æ `null` (–∏–ª–∏ –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤), –æ–¥–Ω–∞–∫–æ –µ—Å–ª–∏ –≤—Å–µ –∂–µ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –∑–∞–ª–æ–∂–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–æ–π, —Ç–æ –¥–æ–ª–∂–Ω–æ –∫–∏–¥–∞—Ç—å—Å—è –∏—Å–∫–ª—é—á–µ–Ω–∏–µ.

Bad:
```php
function loadUsers() {
    if ($connectionError !== null) {
        return []; // –ø–æ—Ç–µ—Ä—è–ª–∏ –æ—à–∏–±–∫—É, –Ω–∏–∫—Ç–æ –Ω–µ —É–∑–Ω–∞–µ—Ç –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º
    }
    // ...
    if (count($data) === 0) {
        return [];
    }
    // ...
    return $result;
}
```

Good:
```php
function loadUsers() {
    if ($connectionError !== null) {
        throw new Exception\ConnectionError();
    }
    // ...
    if (count($data) === 0) {
        return [];
    }
    // ...
    return $result;
}
```

### üìñ –ú–µ—Ç–æ–¥ –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ ‚Üí –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö ‚Üí –†–∞–±–æ—Ç–∞ ‚Üí –†–µ–∑—É–ª—å—Ç–∞—Ç
–í–æ –≤—Ä–µ–º—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥ –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –ø—É—Å—Ç–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–ª–∏ –∫–∏–¥–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ. –ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –º–µ—Ç–æ–¥ –ø–æ–ª—É—á–∏–ª –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –ø—Ä–∏—Å—Ç—É–ø–∏–ª –∫ —Ä–∞–±–æ—Ç–µ –≤—ã—Ö–æ–¥ –∏–∑ –º–µ—Ç–æ–¥–∞ –∫—Ä–∞–π–Ω–µ –Ω–µ–∂–µ–ª–∞—Ç–µ–ª–µ–Ω. –í–æ–∑–º–æ–∂–Ω—ã —Ä–µ–¥–∫–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è, –æ–±–ª–µ–≥—á–∞—é—â–∏–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∏ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∫–æ–¥–∞.

Bad:
```php
/**
 * @return int
 */
public function someMethod() {
    $isValid = $this->_someCheck();
    if ($isValid) {
        $tmp = 0;
        $someValue = $this->_getSomeValue();
        if ($someValue > 0) {
            $tmp = $someValue;
        }
        $anotherValue = $this->_getAnotherValue();
        if ($anotherValue > 0) {
            return $tmp + $anotherValue;
        } else {
            return $someValue;
        }
    } else {
        throw new \Exception('Invalid condition');
    }
}
```

Good:
```php
/**
 * @return int
 * @throws \Exception
 */
public function someMethod() {
    $result = 0;
     
    $isValid = $this->_someCheck();
    if (!$isValid) {
        throw new \Exception('Invalid condition');
    }
  
    $someValue = $this->_getSomeValue();
    if ($someValue > 0) {
        $result += $someValue;
    }
    $anotherValue = $this->_getAnotherValue();
    if ($anotherValue > 0) {
        $result += $anotherValue;
    }
    return $result;
}
```

**[‚¨Ü up](#Summary)**

## **Classes**

### üìñ –¢—Ä–µ–π—Ç—ã –∏–º–µ—é—Ç –ø–æ—Å—Ç—Ñ–∏–∫—Å Trait

Good:
```php
trait AjaxResponseTrait {
    // ...
}
```

### üìñ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏–º–µ—é—Ç –ø–æ—Å—Ç—Ñ–∏–∫—Å Interface

Good:
```php
interface ApplicationInterface {
    // ...
}
```

### üìñ –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã –∏–º–µ—é—Ç –ø—Ä–µ—Ñ–∏–∫—Å Abstract

Good:
```php
abstract class AbstractApplication {
    // ...
}
```

### üìñ –í—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞ –∫–ª–∞—Å—Å–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å private
–ï—Å–ª–∏ —Å–≤–æ–π—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞–º–∏ –∫–ª–∞—Å—Å–∞, —Ç–æ –æ–Ω–æ –æ–±—ä—è–≤–ª—è–µ—Ç—Å—è `protected`. –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–æ—Ä–æ–Ω–Ω–∏–º–∏ –∫–ª–∞—Å—Å–∞–º–∏, —Ç–æ–≥–¥–∞ `public`.

Bad:
```php
abstract class Loader {
    public $data = [];

    public function getData() {
        return $this->data;
    }

    public function init() {
        $this->data = $this->load();
    }

    abstract public function load();
}
```

Good:
```php
abstract class Loader {
    
    /**
     * @type array
     */
    private $_cachedData = [];

    /**
     * @return array
     */
    public function getData(): array {
        return $this->_cachedData;
    }

    public function init(): void {
        $this->_cachedData = $this->_load();
    }

    /**
     * @return array
     */
    abstract protected function _load(): array;
}
```

### üìñ –ú–µ—Ç–æ–¥—ã –∏ —Å–≤–æ–π—Å—Ç–≤–∞ –≤ –∫–ª–∞—Å—Å–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ —É—Ä–æ–≤–Ω—è–º –≤–∏–¥–∏–º–æ—Å—Ç–∏ –∏ –ø–æ –ø–æ—Ä—è–¥–∫—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑
–£—Ä–æ–≤–Ω–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏: `public` -> `protected` -> `private`.

Bad:
```php
class SomeClass {
    private $_privPropA;   
    public $pubPropA;
    protected $_protPropA;
 
    protected function _protA() {
    }
 
 
    public function pubB() {
    }
 
 
    private function _privA() {
        return $this->_protA();
    }
  
    public function pubA() {
        $this->_privA();
        return $this->pubB();
    }
}
```

Good:
```php
class SomeClass {
    public $pubPropA;
    protected $_protPropA;
    private $_privPropA;
 
    public function pubA() {
        $this->_privA();
        return $this->pubB();
    }
 
    public function pubB() {
    }
 
    protected function _protA() {
    }
 
    private function _privA() {
        return $this->_protA();
    }
}
```

**[‚¨Ü up](#Summary)**

## **Objects**

### üìñ –í—Å–µ –æ–±—ä–µ–∫—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–º–∏ (immutable), –µ—Å–ª–∏ –æ—Ç –Ω–∏—Ö –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–æ–≥–æ

Bad:
```php
class SomeObject {
    /**
     * @var int
     */
    public $id;
}
```

Good:
```php
class SomeObject {
    /**
     * @var int
     */ 
    private $_id;
  
    /**
     * @param int $id
     */
    public function __construct($id) {
        $this->_id = $id;
    }
  
    /**
     * @var int
     */
    public function id() {
        return $this->_id;
    }
}
```

### üìñ –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã–∑–æ–≤—ã –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å —Ç–æ–ª—å–∫–æ —É —Å–∞–º–æ–≥–æ –∫–ª–∞—Å—Å–∞. –£ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –º–æ–∂–Ω–æ –æ–±—Ä–∞—â–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –∫ –µ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞–º –∏ –º–µ—Ç–æ–¥–∞–º

Bad:
```php
$type = $user::TYPE;
```

Good:
```php
$type = User::TYPE;
```

**[‚¨Ü up](#Summary)**

## **Comments**
### üìñ –í –æ–±—â–µ–º —Å–ª—É—á–∞–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∑–∞–ø—Ä–µ—â–µ–Ω—ã

–ñ–µ–ª–∞–Ω–∏–µ –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π ‚Äî –ø—Ä–∏–∑–Ω–∞–∫ Bad —á–∏—Ç–∞–µ–º–æ–≥–æ –∫–æ–¥–∞. –õ—é–±–æ–π —É—á–∞—Å—Ç–æ–∫ –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –≤—ã —Ö–æ—Ç–µ–ª–∏ –±—ã –≤—ã–¥–µ–ª–∏—Ç—å –∏–ª–∏ –ø—Ä–æ–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å, –Ω–∞–¥–æ –≤—ã–Ω–æ—Å–∏—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥.

–§—Ä–∞–∑—É, –∫–æ—Ç–æ—Ä—É—é –≤—ã —Ö–æ—Ç–µ–ª–∏ –Ω–∞–ø–∏—Å–∞—Ç—å –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –Ω–∞–¥–æ –ø—Ä–∏–≤–µ—Å—Ç–∏ –≤ –ø—Ä–æ—Å—Ç–æ–π –≤–∏–¥ –∏ —Å–¥–µ–ª–∞—Ç—å –µ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ–º –º–µ—Ç–æ–¥–∞.

Bad:
```php
public function deleteApprovedUsers() {
    // load users filter them by approval
    $users = $repository->loadUsers();
    array_filter($users, function($user) {
        return $user->is_approved;
    });

    foreach ($users as $user) {
        // ...
    }
}
```

Good:
```php
public function deleteApprovedUsers() {
    $users = $this->loadApprovedUsers();
    foreach ($users as $user) {
        // ...
    }
}

public function loadApprovedUsers() {
    $users = $repository->loadUsers();
    array_filter($users, function($user) {
        return $user->is_approved;
    });
}
```

### üìñ –í—ã–Ω—É–∂–¥–µ–Ω–Ω—ã–µ —Ö–∞–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–º–µ—á–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
–õ—É—á—à–µ —Å–æ–±–ª—é–¥–∞—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç –≤ —Ä–∞–º–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞

Good:
```php
function loadUsers() {
    $result = $repository->loadUsers();
    // hack: status field was removed from storage 
    foreach ($result as $user) {
        $user->status = 'active';
    }
    // hack end
    return $result;
}
```

### üìñ –ì–æ—Ç–æ–≤—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã, –≤–∑—è—Ç—ã–µ –∏–∑ –≤–Ω–µ—à–Ω–µ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞, –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–º–µ—á–µ–Ω—ã —Å—Å—ã–ª–∫–æ–π –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫

Good:
```php
/**
 * https://en.wikipedia.org/wiki/Quicksort
 */
function quickSort(array $arr) {
    // ...
}

/**
 * https://habrahabr.ru/post/320140/
 */
function generateRandomMaze() {
    // ...
}
```

### üìñ –ü—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞ –¥–æ–ø—É—Å—Ç–∏–º–æ –ø–æ–º–µ—á–∞—Ç—å —É—á–∞—Å—Ç–∫–∏ –∫–æ–¥–∞ @todo

Good:
```php
function loadUsers() {
    $result = $repository->loadUsers();
    // @todo: delete the hack when field will be restored
    // hack: status field was removed from storage
    foreach ($result as $user) {
        $user->status = 'active';
    }
    // hack end
    return $result;
}
```

**[‚¨Ü up](#Summary)**

## **Exceptions**
### üìñ –ù–∞ –∫–∞–∂–¥–æ–º —É—Ä–æ–≤–Ω–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ (–ø—Ä–æ–µ–∫—Ç, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –±–∏–±–ª–∏–æ—Ç–µ–∫–∞) –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–µ –±–∞–∑–æ–≤–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ

### üìñ –ò—Å–∫–ª—é—á–µ–Ω–∏—è —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–µ—Ä–µ—Ö–≤–∞—á–µ–Ω—ã —Å—Ä–∞–∑—É
–î–∞–ª–µ–µ –ª–∏–±–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã, –ª–∏–±–æ –Ω–∞ –∏—Ö –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –¥–æ–ª–∂–Ω–æ –±—Ä–æ—Å–∞—Ç—å—Å—è —Å–≤–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ. –ù–æ–≤–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–µ–µ.

Good:
```php
namespace Service\Facebook;

use Exception;
use FacebookAds;

public function function requestData() {
    // ...
    try {
        $objects = $facebookAds->requestData($params);
    } catch (FacebookAds\Exception\Exception $e) {
        throw new Exception\ExternalServiceError("Facebook error", 0, $e);
    }
    //..
}
```

### üìñ –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ç–µ–∫—Å—Ç—ã –∏—Å–∫–ª—é—á–µ–Ω–∏–π –Ω–µ –¥–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
–û–Ω–∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ—Ç–ª–∞–¥–∫–∏. –¢–µ–∫—Å—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è –º–æ–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é, –µ—Å–ª–∏ –æ–Ω–æ —è–≤–Ω–æ –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–æ: –Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `HumanReadableInterface`.

```php
interface HumanReadableInterface {
    
    /**
     * @return string
     */
    public function getUserMessage(): string;
}

public function handleException(\Throwable $exception) {
    if ($exception instanceof HumanReadableInterface) {
        echo $exception->getUserMessage();
        return;
    }
    // ...
}
```

**[‚¨Ü up](#Summary)**

## **Cloud**

### üìñ –ù–µ–ª—å–∑—è –¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ –≤–Ω–µ—à–Ω–µ–º—É —Ö—Ä–∞–Ω–∏–ª–∏—â—É –≤–Ω—É—Ç—Ä–∏ —Ü–∏–∫–ª–∞ —Å –∑–∞–≤–µ–¥–æ–º–æ –±–æ–ª—å—à–∏–º –∫–æ–ª-–≤–æ–º –∏—Ç–µ—Ä–∞—Ü–∏–π

Bad:
```php
$users = loadUsers();
foreach ($users as $user) {
    $userProjects = loadUserProjects($user);
    // ...
}
```

Good:
```php
$users = loadUsers();
$projects = loadProjects();
$indexedProjects = [];
foreach ($projects as $project) {
    if (!array_key_exists($project->user_id, $indexedProjects)) {
        $indexedProjects[$project->user_id] = [];
    }
    $indexedProjects[$project->user_id][] = $project;
}
foreach ($users as $user) {
    if (!array_key_exists($user->id, $indexedProjects)) {
        continue;
    }
    $userProjects = $indexedProjects[$user->id];
}
```

### üìñ –î–ª—è –∫–∞–∂–¥–æ–π –∑–∞–ø–∏—Å–∏ –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–Ω—è—Ç–Ω–∞ –¥–∞—Ç–∞ –µ–µ —Å–æ–∑–¥–∞–Ω–∏—è
–¢–æ –µ—Å—Ç—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∫–æ–ª–æ–Ω–∫–∞ `date/creation_date`. –ò–ª–∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–≤–∏—Å–∏–º—ã–π –æ–±—ä–µ–∫—Ç (—Å–≤—è–∑—å 1 –∫ 1), —É –∫–æ—Ç–æ—Ä–æ–≥–æ –µ—Å—Ç—å —Ç–∞–∫–∞—è –∫–æ–ª–æ–Ω–∫–∞. –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–µ –∑–∞–ø–∏—Å–∏ –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –∏ –¥–∞—Ç—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: `update_date` –∏–ª–∏ `modification_date`.

**[‚¨Ü up](#Summary)**

## **Pull Requests (PR)**
### üìñ PR –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∫–∞–∫ –º–æ–∂–Ω–æ –º–µ–Ω—å—à–µ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
–õ—é–±–∞—è –∞—Ç–æ–º–∞—Ä–Ω–∞—è —á–∞—Å—Ç—å –∫–æ–¥–∞ –¥–æ–ª–∂–Ω–∞ –≤—ã–¥–µ–ª—è—Ç—å—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é –ø–æ–¥–∑–∞–¥–∞—á—É –∏ –æ—Ç–¥–µ–ª—å–Ω—ã–π PR.

### üìñ –ù–µ–ª—å–∑—è —Å–º–µ—à–∏–≤–∞—Ç—å –ø–µ—Ä–µ–Ω–æ—Å –º–µ—Ç–æ–¥–æ–≤ –≤ –¥—Ä—É–≥–∏–µ –∫–ª–∞—Å—Å—ã –∏ –º–µ—Å—Ç–∞ –∏ –ø–æ—Å–ª–µ–¥—É—é—â–∏–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –º–µ–∂–¥—É —Å–æ–±–æ–π
–ü–µ—Ä–µ–Ω–æ—Å –º–µ—Ç–æ–¥–æ–≤ –≤ –¥—Ä—É–≥–∏–µ –∫–ª–∞—Å—Å—ã –∏ –º–µ—Å—Ç–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—ã–¥–µ–ª–µ–Ω—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π PR. –ü–æ—Å–ª–µ–¥—É—é—â–∏–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–Ω–æ—Å–∞ —Ç–æ–∂–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º PR.

### üìñ –í —Å–ª—É—á–∞–µ –±–æ–ª—å—à–æ–≥–æ PR ‚Äî –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ –¥–æ–ª–≥–∏–π –ø—Ä–æ—Å–º–æ—Ç—Ä –Ω–µ—Å–µ—Ç —Å–∞–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫, —Å–¥–µ–ª–∞–≤—à–∏–π —Ç–∞–∫–æ–π PR
–ù–æ—Ä–º–∞–ª—å–Ω—ã–π –æ–±—ä–µ–º –∫–æ–¥–∞ ‚Äî 0-300 —Å—Ç—Ä–æ–∫ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –µ–≥–æ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏. PR –∑–∞–≥–ª—É—à–µ–∫ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –ª–µ–≥–∫–æ –±—ã—Å—Ç—Ä–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å. PR –∂–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–Ω–æ–≥–æ —Å–ª–æ–∂–Ω–æ—Å—Ç–µ–π –¥–∞–∂–µ –≤ 10 —Å—Ç—Ä–æ—á–∫–∞—Ö. 

### üìñ –ù–µ–ª—å–∑—è –Ω–∞–∫–∞–ø–ª–∏–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–∞–∫–æ–π-—Ç–æ —Å–≤–æ–µ–π –≤–µ—Ç–∫–µ –∏ –ø–æ—Ç–æ–º –¥–µ–ª–∞—Ç—å –±–æ–ª—å—à–æ–π PR –≤ master
–í—Å–µ —á—Ç–æ –º–æ–∂–Ω–æ —Å–º–µ—Ä–∂–∏—Ç—å –≤ master –±–µ–∑ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–π (–¥–∞–∂–µ –µ—Å–ª–∏ —ç—Ç–æ –µ—â–µ –Ω–µ –≥–æ—Ç–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –∞ —Ç–æ–ª—å–∫–æ –∑–∞–≥–ª—É—à–∫–∏ –∏–ª–∏ —á–∞—Å—Ç—å, –Ω–æ –æ–Ω–∏ —Å–∫—Ä—ã—Ç—ã –æ—Ç —é–∑–µ—Ä–æ–≤ –∏ –Ω–∏–∫–æ–º—É –Ω–µ –º–µ—à–∞—é—Ç), –¥–æ–ª–∂–µ–Ω –º–µ—Ä–∂–∏—Ç—å—Å—è –≤ master –∏ PR –¥–æ–ª–∂–µ–Ω —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è –≤ master.

### üìñ –í Pull Request –Ω–µ –¥–æ–ª–∂–Ω–æ –ø–æ–ø–∞–¥–∞—Ç—å –∫–æ–¥–∞, –Ω–µ –æ—Ç–Ω–æ—Å—è—â–µ–≥–æ—Å—è –∫ –∑–∞–¥–∞—á–µ
–¢–∞–∫–∂–µ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∑–∞–±—ã—Ç—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤, –±–µ—Å—Å–º—ã—Å–ª–µ–Ω–Ω—ã—Ö –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ —Å—Ç—Ä–æ–∫ –∏ –ø—Ä–æ—á–µ–≥–æ "—Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–æ–≥–æ –º—É—Å–æ—Ä–∞". –ö–∞–∂–¥–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç–µ —Å–¥–µ–ª–∞—Ç—å –≤ master-–≤–µ—Ç–∫–µ, –¥–æ–ª–∂–Ω–æ —Ç–∞–∫ –∏–ª–∏ –∏–Ω–∞—á–µ –æ—Ç–Ω–æ—Å–∏—Ç—å—Å—è –∫ —Ä–µ—à–µ–Ω–∏—é –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–π –≤–∞–º –∑–∞–¥–∞—á–∏.

**[‚¨Ü up](#Summary)**

## **Templates**

### üìñ –í —à–∞–±–ª–æ–Ω–∞—Ö –Ω–µ –¥–æ–ª–∂–Ω—ã –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –º–µ—Ç–æ–¥—ã –æ–±—ä–µ–∫—Ç–æ–≤ (–≥–µ—Ç—Ç–µ—Ä—ã –Ω–µ –≤ —Å—á–µ—Ç)
–í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–æ —Ä–µ–Ω–¥–µ—Ä–∞ –∏ –ø–µ—Ä–µ–¥–∞–Ω—ã –≤ –≤–∏–¥–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —à–∞–±–ª–æ–Ω–∞.

**[‚¨Ü up](#Summary)**

## **–†–∞–±–æ—Ç–∞ —Å –ª–∏—Ç–µ—Ä–∞–ª–∞–º–∏**

### üìñ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –≤—Å–µ—Ö —á–∏—Å–ª–æ–≤—ã—Ö –ª–∏—Ç–µ—Ä–∞–ª–æ–≤ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–Ω—è—Ç–Ω—ã–º –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
–û–Ω–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏–ª–∏ –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –∏–ª–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É, –∏–ª–∏ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å—Å—è —Å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, –∏–ª–∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è –Ω–∞ –≤—Ö–æ–¥ –º–µ—Ç–æ–¥—É —Å –ø–æ–Ω—è—Ç–Ω–æ–π —Å–∏–≥–Ω–∞—Ç—É—Ä–æ–π. –í –∫–æ–¥–µ –¥–æ–ª–∂–µ–Ω –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –≤ —è–≤–Ω–æ–º –≤–∏–¥–µ –æ—Ç–≤–µ—Ç: `–∑–∞ —á—Ç–æ –æ—Ç–≤–µ—á–∞–µ—Ç —ç—Ç–æ —á–∏—Å–ª–æ –∏ –ø–æ—á–µ–º—É –æ–Ω–æ –∏–º–µ–Ω–Ω–æ —Ç–∞–∫–æ–µ?`

Bad:
```php
$isOnlyDeleted = 1;
if ($object->is_deleted === $isOnlyDeleted) {
    // ...
}
 
for ($i = 0; $i < 5; $i++) {
    // ...
}
```

Good:
```php

if ($object->is_deleted === 1) {
    // ...
}
 
$apiMaxRetryLimit = 5;
for ($i = 0; $i < $apiMaxRetryLimit; $i++) {
    // ...
} 
```

**[‚¨Ü up](#Summary)**

## **Conditions**

### üìñ –í —É—Å–ª–æ–≤–Ω–æ–º –æ–ø–µ—Ä–∞—Ç–æ—Ä–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å—Å—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ `boolean` –∑–Ω–∞—á–µ–Ω–∏–µ

Bad:
```php
if (count($userProjects)) {
    // ...
}
if ($project) {
    // ...
}
```

Good:
```php
if ($isResponseError) { // $isResponseError = true
    // ...
}
if ($response->isError()) { // isError method returns boolean
    // ...
}
if (count($userProjects) > 0) {
    // ...
}
```

### üìñ –í —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏ –Ω–µ boolean –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç—Ä–æ–≥–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ–º —Ç–∏–ø–∞ (===), –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∏ –Ω–µ—Å—Ç—Ä–æ–≥–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è

Bad:
```php
if ($project) {
    // ...
}
if ($request->postData('sum') == 100) {
    // ...
}
if (!$request->postData('sum')) {
    // ...
}
if (!$bill->comment) {
    // ...
}
```

Good:
```php
if ($project === null) { // $project is an object
    // ...
}
if ((int)$request->postData('sum') === 100) {
    // ...
}
if ($bill->comment === '') {
    // ...
}
```

### üìñ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ —Ç–æ–ª—å–∫–æ, –∫–æ–≥–¥–∞ –æ–¥–∏–Ω –∏–∑ –æ–ø–µ—Ä–∞–Ω–¥–æ–≤ ‚Äî –ª–∏—Ç–µ—Ä–∞–ª —Å –∑—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Ç–∏–ø–æ–º
–ü—Ä–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏ –¥–≤—É—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –¥–ª—è —á–∏—Ç–∞—é—â–µ–≥–æ –∫–æ–¥ —á–µ–ª–æ–≤–µ–∫–∞ –Ω–µ –æ—á–µ–≤–∏–¥–Ω–æ, –∫ —á–µ–º—É –æ–Ω–∏ –±—É–¥—É—Ç –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–æ–º. –ï—Å–ª–∏ –∂–µ —Ç–∏–ø –æ–¥–Ω–æ–≥–æ –∏–∑ –æ–ø–µ—Ä–∞–Ω–¥–æ–≤ –∏–∑–≤–µ—Å—Ç–µ–Ω, —Ç–æ –≤—Å—ë —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –æ—á–µ–≤–∏–¥–Ω–æ –∏ —Ä—É—á–Ω–æ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ `boolean` –ø—Ä–∏—à–µ–¥—à–µ–µ –∏–∑–≤–Ω–µ, —Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è —ç—Ç–æ —Ç–∞–∫:

Bad:
```php
if ((int)$request->get('is_something') > 0) {
    // ...
}
if ((int)$request->get('is_something') === 1) {
    // ...
}
if ((int)$user->is_registered === 0) {
    // ...
}
```

Good:
```php
if ($request->get('is_something') > 0) {
    // ...
}
if ($user->is_registered) {
    // ...
}
if (!$user->is_registered) {
    // ...
}
```

#### üìñ –ù–µ –Ω–∞–¥–æ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å `boolean` —Å `true`/`false`
–≠—Ç–æ –Ω–∞—Ä—É—à–∞–µ—Ç –∑–∞–ø—Ä–µ—Ç –Ω–∞ –±–µ—Å–ø–æ–ª–µ–∑–Ω—ã–π –∫–æ–¥.

Bad:
```php
if ($bill->isPaid() == true) {
    // ...
}
if ($bill->isPaid() !== false) {
    // ...
}
if (!$bill->isPaid() === true) {
    // ...
}
if (!(!$bill->isPaid() === true)) {
    // ...
}
if ((bool)$phone->is_external === true) {
    // ...
}
```

Good:
```php
if ($bill->isPaid()) {
    // ...
}
```

### üìñ –ü—Ä–æ–≤–µ—Ä—è—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–∞–¥–æ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –ø–æ–∑–∏—Ç–∏–≤–Ω–æ–≥–æ –≤—Ö–æ–∂–¥–µ–Ω–∏—è, –∞ –Ω–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ–≥–æ
–ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–∞ —Å—Ç—Ä–æ–∫–∞, —Ç–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–∞–¥–æ –Ω–∞ —Ç–æ, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —è–≤–ª—è–µ—Ç—Å—è —Å—Ç—Ä–æ–∫–æ–π. –ù–µ –Ω–∞–¥–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–∞ —Ç–æ, —á—Ç–æ –æ–Ω–∞ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —á–∏—Å–ª–æ–º –∏–ª–∏ —á–µ–º-—Ç–æ –µ—â–µ. –ü–µ—Ä–µ—á–∏—Å–ª—è—Ç—å –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã, —á–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å, –∑–Ω–∞—á–∏—Ç –ø–æ–≤—ã—à–∞—Ç—å —Ä–∏—Å–∫ –æ—à–∏–±–∫–∏ –∏ —É—Å–ª–æ–∂–Ω—è—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –∫–æ–¥–∞.

Bad:
```php
if (!is_numeric($value) && !is_object($value)) {
    // ...
}
```

Good:
```php
if (is_string($value) && $value !== '') {
    // ...
}
```

### üìñ If you use the built-in PHP function, that returns `0`, `1` and, maybe, `false`, then if possible use the result in a  `bool` condition without additional checks
This is not for the case in which you have to handle two results differently, for example `0` and `false`.

Bad:
```php
if (preg_match($pattern, $subject) === 1) {
    // ...
}
if (!strpos($search, $text)) {
    // ...
}
```

Good:
```php
if (preg_match($pattern, $subject)) { 
    // handle success
}
if (!preg_match($pattern, $subject)) {
    // handle not success
}
if (preg_match($pattern, $subject) === false) {
    // handle error
}
if (strpos($search, $text) === false) {
    // handle not success
}
```

### üìñ Using both AND and OR operators in same expression requires direct priority indication with braces
Note the different meanings of two "good" versions

Bad:
```php
if ($isMobile || $isSizeTooBig && $isAllowedToShrink) {
    // ...
}
```

Good:
```php
if (($isMobile || $isSizeTooBig) && $isAllowedToShrink) {
    // ...
}
if ($isMobile || ($isSizeTooBig && $isAllowedToShrink)) {
    // ...
}
```

**[‚¨Ü up](#Summary)**

## **Ternary Operators**

### üìñ Ternary operator is used with the same rules as in conditions

### üìñ Ternary operator is used, if the variable is defined the same way in both "if" cases
–ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –ª–æ–≥–∏–∫–∏ –≤ –≤–µ—Ç–∫–∞—Ö —É—Å–ª–æ–≤–∏—è —Å–ª–µ–¥—É–µ—Ç —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–Ω–µ—Å—Ç–∏ –µ–µ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥.

Bad:
```php
if ($isExternal) {
    $bill = $this->loadExternalBill();
} else {
    $bill = $this->loadInternalBill();
}
```

Good:
```php
$bill = $isExternal ? $this->loadExternalBill() : $this->loadInternalBill();
```

### üìñ The usage of ternary operator `?:` can be used if the default value is defined

Bad:
```php
$contact = $this->loadContactByPhone() ?: $this->loadContactByEmail() ?: $this->loadContactByName();
```

Good:
```php
$lead = $this->loadLeadFromCache() ?: $this->loadLeadFromDB();
$contact = $this->loadContactByPhone() ?: $this->loadContactByEmail() ?: $this->loadContactByName() ?: null;
```

**[‚¨Ü up](#Summary)**

## **Tests**

### üìñ Tests is also production-code, as well as other code
They have to be written following the rules described in this document.

### üìñ –í –¥–∞—Ç–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞—Ö –¥–ª—è —Ç–µ—Å—Ç–æ–≤ –Ω–∞–¥–æ –ø–∏—Å–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –æ—Ç–¥–∞–≤–∞–µ–º–æ–≥–æ –º–∞—Å—Å–∏–≤–∞ –∑–Ω–∞—á–µ–Ω–∏–π

Bad:
```php
public function isEmailAddressData() {
    return [
        ['test@test.ru',            true ],
        // ...
    ]
}
```

Good:
```php
public function isEmailAddressData() {
    return [
        //    email               isValid
        ['test@test.ru',            true ],
        ['invalidEmail',            false],
        // ...
    ]
}
```

**[‚¨Ü up](#Summary)**

## **Chaining Objects**
### üìñ A method with many non-required params (–ê) may be replaced with a chain-object
The constructor gets all the required params, and others are added with setters, that are returning the self object (chaining). The object has one verb-method without parameters, he finishes the object use –∏ do the actions usually made by the method –ê.

**Before:**
```php
function send($method, $url, $body = null, $headers = null, $retries = 1, $timeout = 300) {}
```

**Has to be chained:**
```php
public function __construct($method, $url) {
    // ...
}

public function body($body) {
    return $this;
}

public function send();
```

**Usage of a new object:**
```php
new $sender($method, $url)->body($body)->retries(10)->timeout(25)->send();
```

**[‚¨Ü up](#Summary)**

## **Cron Jobs and Scripts**
### üìñ Any script, that makes changes in the data, have to ask the confirmation and `debug` the results

Bad:
``` php
// cli/delete_items.php
$repository->deleteItems();
```

Fix that, so that an accidental launch wouldn't do any damage:

Good:
```php
// cli/delete_items.php
$totalItems = $repository->countItems();
if (!confirm("Do you want to delete {$totalItems} item(s)?")) {
    echo 'Delete canceled, exit';
    exit(1);
}

$repository->deleteItems();

function confirm(string $question): bool {
    return readline("{$question} [y/n]: ") === 'y'
}
```

**[‚¨Ü up](#Summary)**

## **Authors**

- –£–¥–æ–¥–æ–≤ –ï–≤–≥–µ–Ω–∏–π ([flrnull](https://github.com/flrnull))
- –†—É–¥–∞—á–µ–Ω–∫–æ –°–µ—Ä–≥–µ–π ([m1nor](https://github.com/m1nor))
- –ó—é–∑—å–∫–µ–≤–∏—á –Æ—Ä–∏–π ([Farengier](https://github.com/Farengier))
